---
- name: "Play for localhost"
  hosts: localhost
  connection: local
  become: true
  tasks:
    - name: Update apt repo and cache on
      ansible.builtin.apt:
        update_cache: true
        cache_valid_time: 3600
        upgrade: dist

    - name: Install python packages
      ansible.builtin.pip:
        name:
          - passlib
          - netaddr

    - name: Install apt packages
      ansible.builtin.apt:
        pkg:
          - pinta
          - curl
          - code
          - git
          - brave-browser
          - python3
          - vlc
          - adb
          - exiftool
        autoclean: true
        autoremove: true

    - name: Download latest yq to bin
      ansible.builtin.get_url:
        url: https://github.com/mikefarah/yq/releases/latest/download/yq_linux_amd64
        dest: /usr/local/bin/yq
        mode: a+x
